<!DOCTYPE html>
<html lang="sv">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Kolonialismen – Framväxt, Dominans och Fall</title>
<link href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@400;700;900&family=Crimson+Pro:ital,wght@0,300;0,400;0,600;1,300;1,400&display=swap" rel="stylesheet">
<script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/4.4.1/chart.umd.min.js"></script>
<style>
  :root {
    --ink: #1a1209;
    --parchment: #f5eed8;
    --parchment-dark: #e8dfc0;
    --sepia: #8b6914;
    --sepia-light: #c49a2a;
    --blood: #8b1a1a;
    --ocean: #1a3a5c;
    --forest: #1a3a1a;
    --gold: #c8952a;
    --cream: #faf6ec;
    --shadow: rgba(26,18,9,0.15);
  }

  * { margin: 0; padding: 0; box-sizing: border-box; }

  body {
    background: var(--ink);
    color: var(--ink);
    font-family: 'Crimson Pro', Georgia, serif;
    font-size: 18px;
    line-height: 1.7;
    overflow-x: hidden;
  }

  /* ── HERO ── */
  .hero {
    background: var(--ink);
    min-height: 100vh;
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
    position: relative;
    overflow: hidden;
    padding: 4rem 2rem;
  }

  .hero::before {
    content: '';
    position: absolute; inset: 0;
    background:
      radial-gradient(ellipse 80% 60% at 50% 30%, rgba(139,105,20,0.18) 0%, transparent 70%),
      repeating-linear-gradient(0deg, transparent, transparent 39px, rgba(200,149,42,0.04) 40px),
      repeating-linear-gradient(90deg, transparent, transparent 39px, rgba(200,149,42,0.04) 40px);
  }

  .hero-year-range {
    font-family: 'Crimson Pro', serif;
    font-size: 0.95rem;
    font-weight: 300;
    letter-spacing: 0.5em;
    text-transform: uppercase;
    color: var(--sepia-light);
    margin-bottom: 1.5rem;
    opacity: 0;
    animation: fadeUp 1s 0.3s forwards;
  }

  .hero-title {
    font-family: 'Playfair Display', serif;
    font-size: clamp(3rem, 9vw, 7.5rem);
    font-weight: 900;
    color: var(--parchment);
    text-align: center;
    line-height: 1;
    letter-spacing: -0.02em;
    opacity: 0;
    animation: fadeUp 1s 0.5s forwards;
  }

  .hero-title span {
    color: var(--gold);
    display: block;
  }

  .hero-sub {
    font-family: 'Crimson Pro', serif;
    font-style: italic;
    font-size: clamp(1.1rem, 2.5vw, 1.5rem);
    color: rgba(245,238,216,0.65);
    text-align: center;
    max-width: 600px;
    margin-top: 1.5rem;
    opacity: 0;
    animation: fadeUp 1s 0.7s forwards;
  }

  .hero-motto {
    display: flex;
    gap: 0;
    margin-top: 3rem;
    opacity: 0;
    animation: fadeUp 1s 0.9s forwards;
  }

  .motto-item {
    padding: 1rem 2.5rem;
    text-align: center;
    border: 1px solid rgba(200,149,42,0.3);
    position: relative;
  }

  .motto-item + .motto-item {
    border-left: none;
  }

  .motto-icon {
    font-size: 1.8rem;
    display: block;
    margin-bottom: 0.3rem;
  }

  .motto-label {
    font-family: 'Playfair Display', serif;
    font-size: 1.1rem;
    font-weight: 700;
    color: var(--gold);
    display: block;
  }

  .motto-sub {
    font-family: 'Crimson Pro', serif;
    font-size: 0.85rem;
    color: rgba(245,238,216,0.5);
    letter-spacing: 0.08em;
    text-transform: uppercase;
  }

  .scroll-hint {
    position: absolute;
    bottom: 2.5rem;
    display: flex;
    flex-direction: column;
    align-items: center;
    gap: 0.5rem;
    color: rgba(245,238,216,0.3);
    font-size: 0.8rem;
    letter-spacing: 0.2em;
    text-transform: uppercase;
    opacity: 0;
    animation: fadeUp 1s 1.5s forwards;
  }

  .scroll-arrow {
    width: 1px;
    height: 40px;
    background: linear-gradient(to bottom, transparent, rgba(200,149,42,0.5));
    animation: scrollPulse 2s infinite;
  }

  /* ── TIMELINE NAV ── */
  .timeline-nav {
    background: var(--ink);
    position: sticky;
    top: 0;
    z-index: 100;
    border-bottom: 1px solid rgba(200,149,42,0.2);
    display: flex;
    justify-content: center;
    gap: 0;
    overflow-x: auto;
    scrollbar-width: none;
  }

  .timeline-nav::-webkit-scrollbar { display: none; }

  .nav-item {
    padding: 0.9rem 1.4rem;
    font-family: 'Crimson Pro', serif;
    font-size: 0.85rem;
    letter-spacing: 0.12em;
    text-transform: uppercase;
    color: rgba(245,238,216,0.45);
    cursor: pointer;
    border-bottom: 2px solid transparent;
    transition: all 0.3s;
    white-space: nowrap;
    background: none;
    border-top: none;
    border-left: none;
    border-right: none;
    text-decoration: none;
  }

  .nav-item:hover, .nav-item.active {
    color: var(--gold);
    border-bottom-color: var(--gold);
  }

  /* ── SECTIONS ── */
  .section {
    background: var(--cream);
    padding: 5rem 0;
    position: relative;
  }

  .section:nth-child(even) {
    background: var(--parchment);
  }

  .section-dark {
    background: var(--ink) !important;
    color: var(--parchment);
  }

  .container {
    max-width: 1100px;
    margin: 0 auto;
    padding: 0 2rem;
  }

  .section-header {
    display: flex;
    align-items: flex-start;
    gap: 2rem;
    margin-bottom: 3.5rem;
  }

  .section-number {
    font-family: 'Playfair Display', serif;
    font-size: 5rem;
    font-weight: 900;
    line-height: 1;
    color: var(--sepia-light);
    opacity: 0.25;
    flex-shrink: 0;
    margin-top: -0.5rem;
  }

  .section-dark .section-number {
    color: var(--gold);
    opacity: 0.15;
  }

  .section-title-group {}

  .section-region {
    font-family: 'Crimson Pro', serif;
    font-size: 0.85rem;
    font-weight: 600;
    letter-spacing: 0.35em;
    text-transform: uppercase;
    color: var(--sepia);
    margin-bottom: 0.4rem;
    display: block;
  }

  .section-dark .section-region {
    color: var(--gold);
  }

  .section-title {
    font-family: 'Playfair Display', serif;
    font-size: clamp(2rem, 5vw, 3.5rem);
    font-weight: 700;
    line-height: 1.1;
    color: var(--ink);
  }

  .section-dark .section-title {
    color: var(--parchment);
  }

  /* ── FACT GRID ── */
  .fact-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(240px, 1fr));
    gap: 1.5rem;
    margin-bottom: 3rem;
  }

  .fact-card {
    background: white;
    border: 1px solid rgba(139,105,20,0.15);
    border-top: 3px solid var(--sepia);
    padding: 1.5rem;
    position: relative;
    transition: transform 0.2s, box-shadow 0.2s;
  }

  .fact-card:hover {
    transform: translateY(-3px);
    box-shadow: 0 8px 30px var(--shadow);
  }

  .section-dark .fact-card {
    background: rgba(245,238,216,0.06);
    border-color: rgba(200,149,42,0.2);
    border-top-color: var(--gold);
  }

  .fact-number {
    font-family: 'Playfair Display', serif;
    font-size: 2.8rem;
    font-weight: 900;
    color: var(--sepia);
    line-height: 1;
    display: block;
  }

  .section-dark .fact-number {
    color: var(--gold);
  }

  .fact-unit {
    font-size: 1rem;
    font-weight: 300;
    opacity: 0.7;
  }

  .fact-label {
    font-size: 0.9rem;
    font-weight: 600;
    letter-spacing: 0.06em;
    text-transform: uppercase;
    color: var(--sepia);
    margin-top: 0.5rem;
    display: block;
  }

  .section-dark .fact-label {
    color: var(--gold);
  }

  .fact-desc {
    font-size: 0.95rem;
    line-height: 1.5;
    margin-top: 0.5rem;
    color: rgba(26,18,9,0.75);
  }

  .section-dark .fact-desc {
    color: rgba(245,238,216,0.65);
  }

  /* ── PROSE ── */
  .prose {
    display: grid;
    grid-template-columns: 1fr 1fr;
    gap: 3rem;
    margin-bottom: 3rem;
  }

  .prose-full {
    grid-template-columns: 1fr;
    max-width: 720px;
  }

  .prose p {
    margin-bottom: 1rem;
    font-size: 1.05rem;
    color: rgba(26,18,9,0.85);
  }

  .section-dark .prose p {
    color: rgba(245,238,216,0.8);
  }

  .prose p:first-child::first-letter {
    font-family: 'Playfair Display', serif;
    font-size: 3.5rem;
    font-weight: 900;
    float: left;
    line-height: 0.75;
    margin-right: 0.1em;
    color: var(--sepia);
  }

  .section-dark .prose p:first-child::first-letter {
    color: var(--gold);
  }

  /* ── CHARTS ── */
  .chart-container {
    background: white;
    border: 1px solid rgba(139,105,20,0.15);
    padding: 2rem;
    margin-bottom: 2rem;
    position: relative;
  }

  .section-dark .chart-container {
    background: rgba(245,238,216,0.04);
    border-color: rgba(200,149,42,0.15);
  }

  .chart-title {
    font-family: 'Playfair Display', serif;
    font-size: 1.2rem;
    font-weight: 700;
    margin-bottom: 0.3rem;
    color: var(--ink);
  }

  .section-dark .chart-title {
    color: var(--parchment);
  }

  .chart-subtitle {
    font-size: 0.9rem;
    color: var(--sepia);
    margin-bottom: 1.5rem;
    font-style: italic;
  }

  .section-dark .chart-subtitle {
    color: rgba(200,149,42,0.7);
  }

  .chart-wrap {
    position: relative;
    height: 300px;
  }

  .chart-wrap-tall {
    height: 380px;
  }

  /* ── TIMELINE ── */
  .timeline {
    position: relative;
    padding-left: 2rem;
    margin-bottom: 2rem;
  }

  .timeline::before {
    content: '';
    position: absolute;
    left: 0;
    top: 0.5rem;
    bottom: 0.5rem;
    width: 2px;
    background: linear-gradient(to bottom, var(--sepia), rgba(139,105,20,0.1));
  }

  .section-dark .timeline::before {
    background: linear-gradient(to bottom, var(--gold), rgba(200,149,42,0.1));
  }

  .timeline-item {
    position: relative;
    margin-bottom: 2rem;
    padding-left: 2rem;
    opacity: 0;
    transform: translateX(-20px);
    transition: all 0.5s;
  }

  .timeline-item.visible {
    opacity: 1;
    transform: translateX(0);
  }

  .timeline-item::before {
    content: '';
    position: absolute;
    left: -2.4rem;
    top: 0.55rem;
    width: 10px;
    height: 10px;
    border-radius: 50%;
    background: var(--sepia);
    border: 2px solid var(--cream);
    box-shadow: 0 0 0 2px var(--sepia);
  }

  .section-dark .timeline-item::before {
    background: var(--gold);
    border-color: var(--ink);
    box-shadow: 0 0 0 2px var(--gold);
  }

  .timeline-year {
    font-family: 'Playfair Display', serif;
    font-weight: 700;
    font-size: 1rem;
    color: var(--sepia);
    margin-bottom: 0.2rem;
  }

  .section-dark .timeline-year {
    color: var(--gold);
  }

  .timeline-text {
    font-size: 0.95rem;
    color: rgba(26,18,9,0.8);
    line-height: 1.5;
  }

  .section-dark .timeline-text {
    color: rgba(245,238,216,0.75);
  }

  /* ── QUOTE ── */
  .pull-quote {
    border-left: 4px solid var(--sepia);
    padding: 1.5rem 2rem;
    margin: 2.5rem 0;
    background: rgba(139,105,20,0.06);
    font-family: 'Playfair Display', serif;
    font-style: italic;
    font-size: 1.3rem;
    line-height: 1.5;
    color: var(--ink);
  }

  .section-dark .pull-quote {
    border-left-color: var(--gold);
    background: rgba(200,149,42,0.06);
    color: var(--parchment);
  }

  /* ── PROGRESS BAR ── */
  .progress-row {
    margin-bottom: 1.2rem;
  }

  .progress-label-row {
    display: flex;
    justify-content: space-between;
    margin-bottom: 0.4rem;
    font-size: 0.9rem;
    font-weight: 600;
  }

  .progress-bar {
    height: 22px;
    background: rgba(139,105,20,0.1);
    overflow: hidden;
    position: relative;
  }

  .progress-fill {
    height: 100%;
    background: linear-gradient(to right, var(--sepia), var(--gold));
    width: 0;
    transition: width 1.5s cubic-bezier(.22,1,.36,1);
    position: relative;
  }

  .section-dark .progress-bar {
    background: rgba(245,238,216,0.07);
  }

  .section-dark .progress-fill {
    background: linear-gradient(to right, var(--blood), var(--gold));
  }

  /* ── ICON ARRAY ── */
  .icon-array {
    display: flex;
    flex-wrap: wrap;
    gap: 6px;
    margin: 1.2rem 0 0.5rem;
  }

  .icon-legend {
    display: flex;
    gap: 2rem;
    margin-top: 0.8rem;
    font-size: 0.9rem;
  }

  .icon-legend-item {
    display: flex;
    align-items: center;
    gap: 0.5rem;
    color: rgba(26,18,9,0.7);
  }

  .legend-dot {
    width: 12px; height: 12px;
    border-radius: 50%;
    flex-shrink: 0;
  }

  .icon-person {
    display: inline-flex;
    flex-direction: column;
    align-items: center;
    gap: 1px;
    width: 22px;
  }

  .icon-person .i-head {
    width: 9px; height: 9px;
    border-radius: 50%;
  }
  .icon-person .i-body {
    width: 13px; height: 10px;
    border-radius: 6px 6px 3px 3px;
  }

  .icon-person.dead .i-head,
  .icon-person.dead .i-body { background: var(--blood); }

  .icon-person.alive .i-head,
  .icon-person.alive .i-body { background: #2a7a2a; }

  /* ── MAP VISUAL ── */
  .africa-viz {
    display: grid;
    grid-template-columns: 1fr 1fr;
    gap: 2rem;
    margin: 2rem 0;
  }

  .africa-box {
    padding: 1.5rem;
    text-align: center;
    position: relative;
    background: white;
    border: 1px solid rgba(139,105,20,0.2);
  }

  .africa-year {
    font-family: 'Playfair Display', serif;
    font-size: 2rem;
    font-weight: 900;
    color: var(--sepia);
    display: block;
    margin-bottom: 0.5rem;
  }

  .africa-donut-label {
    font-size: 0.85rem;
    text-transform: uppercase;
    letter-spacing: 0.1em;
    color: rgba(26,18,9,0.5);
  }

  .donut-wrap {
    width: 160px;
    height: 160px;
    margin: 1rem auto;
    position: relative;
  }

  .donut-center-text {
    position: absolute;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%);
    text-align: center;
    font-family: 'Playfair Display', serif;
    font-size: 1.5rem;
    font-weight: 900;
    color: var(--sepia);
    line-height: 1.1;
  }

  .donut-center-sub {
    font-size: 0.7rem;
    font-family: 'Crimson Pro', serif;
    color: rgba(26,18,9,0.5);
    font-weight: 400;
    display: block;
  }

  /* ── SLAVE TRADE VISUAL ── */
  .slave-ship {
    display: grid;
    grid-template-columns: 1fr 2fr;
    gap: 2rem;
    align-items: start;
  }

  /* ── FOOTER ── */
  .footer {
    background: var(--ink);
    color: rgba(245,238,216,0.35);
    text-align: center;
    padding: 3rem 2rem;
    font-size: 0.85rem;
    letter-spacing: 0.05em;
    border-top: 1px solid rgba(200,149,42,0.15);
  }

  .footer strong {
    color: var(--gold);
  }

  /* ── ANIMATIONS ── */
  @keyframes fadeUp {
    from { opacity: 0; transform: translateY(30px); }
    to   { opacity: 1; transform: translateY(0); }
  }

  @keyframes scrollPulse {
    0%, 100% { opacity: 0.3; }
    50% { opacity: 0.8; }
  }

  .reveal {
    opacity: 0;
    transform: translateY(25px);
    transition: opacity 0.7s, transform 0.7s;
  }

  .reveal.visible {
    opacity: 1;
    transform: translateY(0);
  }

  /* ── RESPONSIVE ── */
  @media (max-width: 700px) {
    .prose { grid-template-columns: 1fr; }
    .africa-viz { grid-template-columns: 1fr; }
    .slave-ship { grid-template-columns: 1fr; }
    .hero-motto { flex-direction: column; }
    .motto-item + .motto-item { border-left: 1px solid rgba(200,149,42,0.3); border-top: none; }
    .section-header { flex-direction: column; gap: 0.5rem; }
    .section-number { font-size: 3rem; }
  }
</style>
</head>
<body>

<!-- ════════════════ HERO ════════════════ -->
<section class="hero" id="top">
  <div class="hero-year-range">1500 – 1960</div>
  <h1 class="hero-title">
    Kolonialismen<span>& Imperialismen</span>
  </h1>
  <p class="hero-sub">Hur Europa erövrade världen – och vilket arv det lämnade</p>
  <div class="hero-motto">
    <div class="motto-item">
      <span class="motto-icon">✝</span>
      <span class="motto-label">Gud</span>
      <span class="motto-sub">Religion</span>
    </div>
    <div class="motto-item">
      <span class="motto-icon">⚜</span>
      <span class="motto-label">Guld</span>
      <span class="motto-sub">Ekonomi</span>
    </div>
    <div class="motto-item">
      <span class="motto-icon">⚔</span>
      <span class="motto-label">Ära</span>
      <span class="motto-sub">Makt</span>
    </div>
  </div>
  <div class="scroll-hint">
    <span>Scrolla</span>
    <div class="scroll-arrow"></div>
  </div>
</section>

<!-- ════════════════ NAV ════════════════ -->
<nav class="timeline-nav" role="navigation">
  <a class="nav-item" href="#sydamerika">Sydamerika</a>
  <a class="nav-item" href="#afrika">Afrika</a>
  <a class="nav-item" href="#asien">Asien</a>
  <a class="nav-item" href="#slavhandeln">Slavhandeln</a>
  <a class="nav-item" href="#avkolonisering">Avkolonisering</a>
</nav>

<!-- ════════════════ 1. SYDAMERIKA ════════════════ -->
<section class="section" id="sydamerika">
  <div class="container">
    <header class="section-header reveal">
      <div class="section-number">01</div>
      <div class="section-title-group">
        <span class="section-region">1494 – 1825</span>
        <h2 class="section-title">Sydamerika<br>Erövring & Demografisk Kollaps</h2>
      </div>
    </header>

    <div class="fact-grid reveal">
      <div class="fact-card">
        <span class="fact-number">1494</span>
        <span class="fact-label">Tordesillasfördraget</span>
        <p class="fact-desc">Spanien och Portugal delade upp den icke-kristna världen mellan sig.</p>
      </div>
      <div class="fact-card">
        <span class="fact-number">120 000</span>
        <span class="fact-label">Invånare – Potosí 1570</span>
        <p class="fact-desc">Världens viktigaste silvergruvstad på 4 500 meters höjd i nuvarande Bolivia.</p>
      </div>
      <div class="fact-card">
        <span class="fact-number">90%</span>
        <span class="fact-label">Befolkningsminskning</span>
        <p class="fact-desc">Hispaniola: från ~1 miljon invånare år 1492 till bara 500 personer år 1538.</p>
      </div>
      <div class="fact-card">
        <span class="fact-number">1825</span>
        <span class="fact-label">Latinamerikas frihet</span>
        <p class="fact-desc">Merparten av Latinamerika befriades 1810–1825 av kreolledda revolutioner.</p>
      </div>
    </div>

    <div class="prose reveal">
      <div>
        <p>Syd- och Centralamerika blev den första arenan för storskalig europeisk kolonialism. Redan 1494 delade Spanien och Portugal upp världen mellan sig genom Tordesillasfördraget. Silvergruvan i Potosí förändrade världsekonomin – ädelmetaller flödade till Spanien och därifrån till hela världen, inklusive Kina.</p>
        <p>Den ekonomiska vinsten fick dock ett enormt mänskligt pris. Europeiska sjukdomar som smittkoppor och kolera slog ut befolkningar som saknade immunitet. Till detta kom tvångsarbete i gruvorna och brutalt styre.</p>
      </div>
      <div>
        <div class="chart-container">
          <div class="chart-title">Befolkning på Hispaniola</div>
          <div class="chart-subtitle">Den demografiska katastrofen 1492–1538</div>
          <div class="chart-wrap">
            <canvas id="hispaniola-chart"></canvas>
          </div>
        </div>
      </div>
    </div>

    <div class="pull-quote reveal">
      "Historiker beräknar att mellan 50 och 90 % av hela Amerikas förkoloniala befolkning dog — i sjukdomar, slaveri och krig."
    </div>

    <!-- ICON ARRAY -->
    <div class="chart-container reveal">
      <div class="chart-title">Överlevnadsgraden på Hispaniola</div>
      <div class="chart-subtitle">Varje figur = 10 000 personer · 1492–1538</div>
      <div id="icon-array" class="icon-array"></div>
      <div class="icon-legend">
        <div class="icon-legend-item"><div class="legend-dot" style="background:var(--blood)"></div> 90 figurer — omkom (~900 000)</div>
        <div class="icon-legend-item"><div class="legend-dot" style="background:#2a7a2a"></div> 10 figurer — överlevde (~100 000)</div>
      </div>
    </div>

  </div>
</section>

<!-- ════════════════ 2. AFRIKA ════════════════ -->
<section class="section" id="afrika" style="background:var(--parchment)">
  <div class="container">
    <header class="section-header reveal">
      <div class="section-number">02</div>
      <div class="section-title-group">
        <span class="section-region">1830 – 1960</span>
        <h2 class="section-title">Afrika<br>Kapplöpningen & Exploateringen</h2>
      </div>
    </header>

    <div class="fact-grid reveal">
      <div class="fact-card">
        <span class="fact-number">10%</span>
        <span class="fact-label">Europa kontrollerade 1880</span>
        <p class="fact-desc">Fram till 1870-talet var det europeiska intresset begränsat till kustnära handelsstationer.</p>
      </div>
      <div class="fact-card">
        <span class="fact-number">90%</span>
        <span class="fact-label">Europa kontrollerade 1914</span>
        <p class="fact-desc">På bara 30 år lade europeiska makter under sig nästan hela kontinenten.</p>
      </div>
      <div class="fact-card">
        <span class="fact-number">2</span>
        <span class="fact-label">Självständiga länder 1914</span>
        <p class="fact-desc">Endast Etiopien (Abessinien) och Liberia förblev självständiga.</p>
      </div>
      <div class="fact-card">
        <span class="fact-number">&lt; 24</span>
        <span class="fact-label">Universitetsutbildade i Kongo 1960</span>
        <p class="fact-desc">Kung Leopold IIs brutala styre lämnade ett land utan utbildad inhemsk befolkning.</p>
      </div>
    </div>

    <div class="africa-viz reveal">
      <div class="africa-box">
        <span class="africa-year">1880</span>
        <span class="africa-donut-label">Europeisk kontroll</span>
        <div class="donut-wrap">
          <canvas id="africa1880"></canvas>
          <div class="donut-center-text">10%<span class="donut-center-sub">av Afrika</span></div>
        </div>
        <p style="font-size:0.9rem; color:rgba(26,18,9,0.6)">Mest kustnära handelsstationer</p>
      </div>
      <div class="africa-box">
        <span class="africa-year">1914</span>
        <span class="africa-donut-label">Europeisk kontroll</span>
        <div class="donut-wrap">
          <canvas id="africa1914"></canvas>
          <div class="donut-center-text">90%<span class="donut-center-sub">av Afrika</span></div>
        </div>
        <p style="font-size:0.9rem; color:rgba(26,18,9,0.6)">Nästan hela kontinenten koloniserad</p>
      </div>
    </div>

    <div class="prose reveal">
      <div>
        <p>Berlinkonferensen 1884–1885 fastställde reglerna för hur Afrika skulle delas upp. Inga afrikanska representanter var inbjudna. Det som följde är känt som "kapplöpningen om Afrika" – på bara tre decennier ritades hela kontinentens karta om av europeiska makter.</p>
      </div>
      <div>
        <p>Leopold II av Belgien förvandlade Kongo till sin privata egendom. Exploateringen av gummi och elfenben åtföljdes av massiva övergrepp mot befolkningen. Det belgiska kolonialväldet lämnade ett land så utarmat att när självständigheten kom 1960 fanns färre än två dussin infödda kongoleser med universitetsexamen.</p>
      </div>
    </div>

    <div class="chart-container reveal">
      <div class="chart-title">Europeisk territoriell kontroll i Afrika</div>
      <div class="chart-subtitle">Andel av Afrikas yta under europeisk kontroll (procent)</div>
      <div class="chart-wrap">
        <canvas id="africa-timeline-chart"></canvas>
      </div>
    </div>

  </div>
</section>

<!-- ════════════════ 3. ASIEN ════════════════ -->
<section class="section section-dark" id="asien">
  <div class="container">
    <header class="section-header reveal">
      <div class="section-number">03</div>
      <div class="section-title-group">
        <span class="section-region">1600-tal – 1945</span>
        <h2 class="section-title">Asien<br>Kryddor, Opium & Japans Uppgång</h2>
      </div>
    </header>

    <div class="fact-grid reveal">
      <div class="fact-card">
        <span class="fact-number">300<span class="fact-unit"> milj.</span></span>
        <span class="fact-label">Indier styrda av England</span>
        <p class="fact-desc">Av bara 4 000 europeiska tjänstemän år 1900 — en av de mest extrema maktkoncentrationerna i historien.</p>
      </div>
      <div class="fact-card">
        <span class="fact-number">1857</span>
        <span class="fact-label">Sepoyupproret</span>
        <p class="fact-desc">Det stora indiska upproret. Därefter tog brittiska kronan direkt styre från Ostindiska kompaniet.</p>
      </div>
      <div class="fact-card">
        <span class="fact-number">8</span>
        <span class="fact-label">Nationers trupper – Boxer 1900</span>
        <p class="fact-desc">20 000 soldater slog ned boxerupproret i Kina — en symbol för landets försvagning.</p>
      </div>
      <div class="fact-card">
        <span class="fact-number">20 000+</span>
        <span class="fact-label">Koreaner sköts ihjäl</span>
        <p class="fact-desc">Under en demonstration efter första världskriget — av japansk polis.</p>
      </div>
    </div>

    <div class="pull-quote reveal">
      "Kineserna talade om att deras land 'skars upp som en melon' — försvagat av opiumkrig, inre oro och utländsk press."
    </div>

    <div class="prose reveal">
      <div>
        <div class="chart-container">
          <div class="chart-title" style="color:var(--parchment)">Jämförelse: Befolkning vs. Styrande tjänstemän – Indien 1900</div>
          <div class="chart-subtitle">300 miljoner indier styrdes av 4 000 européer + 500 000 indiska tjänstemän</div>
          <div class="chart-wrap">
            <canvas id="india-chart"></canvas>
          </div>
        </div>
      </div>
      <div>
        <h3 style="font-family:'Playfair Display',serif; font-size:1.4rem; margin-bottom:1rem; color:var(--gold)">Japan – undantaget</h3>
        <p>Japan var den enda icke-europeiska nationen som byggde ett eget imperium. Genom Meijirestaurationen moderniserades landet i snabb takt enligt västerländsk modell.</p>
        <div class="timeline">
          <div class="timeline-item">
            <div class="timeline-year">1868</div>
            <div class="timeline-text">Meijirestaurationen — Japan moderniseras systematiskt.</div>
          </div>
          <div class="timeline-item">
            <div class="timeline-year">1895</div>
            <div class="timeline-text">Japan annekterar Taiwan efter kriget mot Kina.</div>
          </div>
          <div class="timeline-item">
            <div class="timeline-year">1905</div>
            <div class="timeline-text">Japan besegrar Ryssland — chockar den europeiska världen.</div>
          </div>
          <div class="timeline-item">
            <div class="timeline-year">1910</div>
            <div class="timeline-text">Korea annekteras av Japan under brutalt styre.</div>
          </div>
        </div>
      </div>
    </div>

  </div>
</section>

<!-- ════════════════ 4. SLAVHANDELN ════════════════ -->
<section class="section" id="slavhandeln" style="background:var(--parchment)">
  <div class="container">
    <header class="section-header reveal">
      <div class="section-number">04</div>
      <div class="section-title-group">
        <span class="section-region">1500-tal – 1807</span>
        <h2 class="section-title">Den Transatlantiska<br>Slavhandeln</h2>
      </div>
    </header>

    <div class="fact-grid reveal">
      <div class="fact-card" style="border-top-color:var(--blood)">
        <span class="fact-number" style="color:var(--blood)">11–12<span class="fact-unit"> milj.</span></span>
        <span class="fact-label" style="color:var(--blood)">Afrikaner exporterade som slavar</span>
        <p class="fact-desc">Under flera hundra år transporterades de från Afrika till den nya världen.</p>
      </div>
      <div class="fact-card" style="border-top-color:var(--blood)">
        <span class="fact-number" style="color:var(--blood)">6<span class="fact-unit"> milj.</span></span>
        <span class="fact-label" style="color:var(--blood)">Bara under 1700-talet</span>
        <p class="fact-desc">Handeln nådde sin topp under 1700-talet med minst 6 miljoner deporterade.</p>
      </div>
      <div class="fact-card" style="border-top-color:var(--blood)">
        <span class="fact-number" style="color:var(--blood)">10–11%</span>
        <span class="fact-label" style="color:var(--blood)">Dödlighet – Mellanpassagen</span>
        <p class="fact-desc">Var tionde person överlevde inte havsresan i slavskeppen.</p>
      </div>
      <div class="fact-card" style="border-top-color:var(--blood)">
        <span class="fact-number" style="color:var(--blood)">90%</span>
        <span class="fact-label" style="color:var(--blood)">Slavar i danska kolonier</span>
        <p class="fact-desc">Vid mitten av 1700-talet var 9 av 10 invånare i danska karibiska kolonier förslavade.</p>
      </div>
    </div>

    <div class="chart-container reveal">
      <div class="chart-title">Uppskattad transatlantisk slavhandel per sekel</div>
      <div class="chart-subtitle">Antal deporterade afrikaner (uppskattning i miljoner)</div>
      <div class="chart-wrap">
        <canvas id="slave-chart"></canvas>
      </div>
    </div>

    <div class="prose reveal">
      <div>
        <p>Den transatlantiska slavhandeln var en av historiens mest omfattande och brutala folkförflyttningar. Afrikaner kidnappades, såldes av rivaliserande stater, och transporterades i omänskliga förhållanden över Atlanten för att arbeta på plantagerna i Amerika och Karibien.</p>
        <p>Under den fruktade "Mellanpassagen" var förhållandena på skeppen extrema — människor packades tätt ihop, sjukdomar grasserade och uppemot var tionde person nådde aldrig fram.</p>
      </div>
      <div>
        <div class="chart-container" style="background:rgba(139,26,26,0.04); border-top:3px solid var(--blood)">
          <div class="chart-title">Danskt deltagande</div>
          <div class="chart-subtitle">Danmarks roll som liten kolonialstormakt</div>
          <div style="margin-top:1rem">
            <div class="progress-row">
              <div class="progress-label-row">
                <span>Slavar i danska kolonier (1750)</span>
                <span style="color:var(--blood); font-weight:900">90%</span>
              </div>
              <div class="progress-bar">
                <div class="progress-fill" data-target="90" style="background: linear-gradient(to right, #8b1a1a, #c44)"></div>
              </div>
            </div>
            <div class="progress-row">
              <div class="progress-label-row">
                <span>Uppskattade transporter – danska fartyg</span>
                <span style="color:var(--sepia); font-weight:900">100 000+</span>
              </div>
              <div class="progress-bar">
                <div class="progress-fill" data-target="70" style="background: linear-gradient(to right, var(--sepia), var(--gold))"></div>
              </div>
            </div>
            <p style="font-size:0.9rem; margin-top:1rem; color:rgba(26,18,9,0.65); font-style:italic">Danmark avskaffade slavhandeln 1792, som ett av de första länderna – men slaveriet som institution fortsatte i kolonierna till 1848.</p>
          </div>
        </div>
      </div>
    </div>

  </div>
</section>

<!-- ════════════════ 5. AVKOLONISERING ════════════════ -->
<section class="section section-dark" id="avkolonisering">
  <div class="container">
    <header class="section-header reveal">
      <div class="section-number">05</div>
      <div class="section-title-group">
        <span class="section-region">1947 – 1975</span>
        <h2 class="section-title">Avkoloniseringen<br>& Det Levande Arvet</h2>
      </div>
    </header>

    <div class="prose prose-full reveal">
      <p>Efter andra världskriget var de europeiska kolonialmakterna ekonomiskt utmattade. De kunde inte längre försvara ett styre som bröt mot de principer om frihet och självbestämmande som de själva proklamerat. Mellan 1947 och 1960 upplöstes de flesta stora imperier i en våg av självständighetsrörelser.</p>
    </div>

    <div class="chart-container reveal" style="margin-bottom:3rem">
      <div class="chart-title" style="color:var(--parchment)">Självständiga afrikanska stater</div>
      <div class="chart-subtitle">Antalet nya självständiga nationer per decennium i Afrika</div>
      <div class="chart-wrap">
        <canvas id="decolonize-chart"></canvas>
      </div>
    </div>

    <h3 class="reveal" style="font-family:'Playfair Display',serif; font-size:1.8rem; color:var(--gold); margin-bottom:1.5rem">Kolonialismens arv idag</h3>

    <div class="fact-grid reveal">
      <div class="fact-card">
        <span class="fact-number" style="font-size:2rem">Ekonomisk<br>ojämlikhet</span>
        <p class="fact-desc">Tidigare kolonier är ofta fortfarande beroende av utländskt kapital och producerar råvaror till rika länder.</p>
      </div>
      <div class="fact-card">
        <span class="fact-number" style="font-size:2rem">Gränser<br>ritade utifrån</span>
        <p class="fact-desc">Afrikas och Mellanösterns artificiella gränser skapade konflikter som pågår in i vår tid.</p>
      </div>
      <div class="fact-card">
        <span class="fact-number" style="font-size:2rem">Kunskaps-<br>glapp</span>
        <p class="fact-desc">I Kongo lämnades under 24 universitetsutbildade inhemska invånare 1960 – ett avsiktligt skadat utbildningssystem.</p>
      </div>
      <div class="fact-card">
        <span class="fact-number" style="font-size:2rem">Kulturellt<br>trauma</span>
        <p class="fact-desc">Identitet, språk och inhemska kulturer tvingades bort och ersattes med europeiska. Läkningsprocessen pågår än.</p>
      </div>
    </div>

    <div class="pull-quote reveal">
      "Kolonialismen slutade inte 1960 — dess ekonomiska och politiska konsekvenser formar fortfarande världen vi lever i."
    </div>

  </div>
</section>

<!-- ════════════════ FOOTER ════════════════ -->
<footer class="footer">
  <p><strong>Kolonialismen – Framväxt, Dominans och Fall</strong></p>
  <p style="margin-top:0.5rem">Interaktivt utbildningsmaterial · Gymnasiets historieundervisning</p>
</footer>


<script>
// ════ UTILITIES ════
const SEPIA = '#8b6914';
const GOLD  = '#c8952a';
const BLOOD = '#8b1a1a';
const PARCHMENT = '#f5eed8';
const INK = '#1a1209';
const FOREST = '#1a3a1a';

Chart.defaults.font.family = "'Crimson Pro', Georgia, serif";

// ════ SCROLL REVEAL ════
const observer = new IntersectionObserver((entries) => {
  entries.forEach(e => {
    if (e.isIntersecting) {
      e.target.classList.add('visible');
    }
  });
}, { threshold: 0.1 });

document.querySelectorAll('.reveal, .timeline-item').forEach(el => observer.observe(el));

// Progress bars
const progressObserver = new IntersectionObserver((entries) => {
  entries.forEach(e => {
    if (e.isIntersecting) {
      e.target.querySelectorAll('.progress-fill').forEach(bar => {
        const target = bar.dataset.target;
        bar.style.width = target + '%';
      });
    }
  });
}, { threshold: 0.3 });

document.querySelectorAll('.chart-container').forEach(el => progressObserver.observe(el));

// ════ ICON ARRAY ════
(function buildIconArray() {
  const container = document.getElementById('icon-array');
  const total = 100;
  for (let i = 0; i < total; i++) {
    const wrap = document.createElement('span');
    wrap.className = 'icon-person ' + (i < 90 ? 'dead' : 'alive');
    wrap.title = i < 90 ? 'Omkom' : 'Överlevde';
    wrap.innerHTML = '<div class="i-head"></div><div class="i-body"></div>';
    container.appendChild(wrap);
  }
})();

// ════ HISPANIOLA CHART ════
new Chart(document.getElementById('hispaniola-chart'), {
  type: 'bar',
  data: {
    labels: ['1492', '1510', '1520', '1530', '1538'],
    datasets: [{
      label: 'Befolkning (tusentals)',
      data: [1000, 500, 100, 20, 0.5],
      backgroundColor: [
        'rgba(26,58,26,0.75)',
        'rgba(139,105,20,0.7)',
        'rgba(139,26,26,0.75)',
        'rgba(139,26,26,0.85)',
        'rgba(139,26,26,0.95)',
      ],
      borderWidth: 0,
    }]
  },
  options: {
    responsive: true,
    maintainAspectRatio: false,
    plugins: {
      legend: { display: false },
      tooltip: {
        callbacks: {
          label: ctx => ctx.raw >= 1 ? ctx.raw.toLocaleString('sv') + ' 000 personer' : '~500 personer'
        }
      }
    },
    scales: {
      y: {
        grid: { color: 'rgba(139,105,20,0.1)' },
        ticks: { color: SEPIA, font: { size: 12 }, callback: v => v >= 1 ? v + 'k' : '<1' },
        title: { display: true, text: 'Befolkning (tusentals)', color: SEPIA }
      },
      x: { grid: { display: false }, ticks: { color: SEPIA } }
    }
  }
});

// ════ AFRICA DONUTS ════
function makeDonut(id, pct, color) {
  new Chart(document.getElementById(id), {
    type: 'doughnut',
    data: {
      datasets: [{
        data: [pct, 100 - pct],
        backgroundColor: [color, 'rgba(139,105,20,0.1)'],
        borderWidth: 0,
        borderRadius: 2,
      }]
    },
    options: {
      responsive: true,
      maintainAspectRatio: false,
      cutout: '70%',
      plugins: { legend: { display: false }, tooltip: { enabled: false } },
      animation: { animateRotate: true, duration: 1500 }
    }
  });
}
makeDonut('africa1880', 10, SEPIA);
makeDonut('africa1914', 90, BLOOD);

// ════ AFRICA TIMELINE CHART ════
new Chart(document.getElementById('africa-timeline-chart'), {
  type: 'line',
  data: {
    labels: ['1870', '1878', '1884', '1890', '1895', '1900', '1905', '1914'],
    datasets: [{
      label: 'Europeisk kontroll (%)',
      data: [10, 18, 25, 45, 60, 72, 82, 90],
      borderColor: BLOOD,
      backgroundColor: 'rgba(139,26,26,0.08)',
      fill: true,
      tension: 0.4,
      pointBackgroundColor: BLOOD,
      pointRadius: 5,
    }]
  },
  options: {
    responsive: true,
    maintainAspectRatio: false,
    plugins: {
      legend: { display: false },
      tooltip: { callbacks: { label: ctx => ctx.raw + '% av Afrika' } }
    },
    scales: {
      y: {
        min: 0, max: 100,
        grid: { color: 'rgba(139,105,20,0.12)' },
        ticks: { color: SEPIA, callback: v => v + '%' }
      },
      x: { grid: { display: false }, ticks: { color: SEPIA } }
    }
  }
});

// ════ INDIA CHART ════
new Chart(document.getElementById('india-chart'), {
  type: 'bar',
  data: {
    labels: ['Indisk befolkning\n(miljoner)', 'Europeiska\ntjänstemän', 'Indiska\ntjänstemän'],
    datasets: [{
      data: [300, 0.004, 0.5],
      backgroundColor: [GOLD, BLOOD, 'rgba(200,149,42,0.5)'],
      borderWidth: 0,
    }]
  },
  options: {
    responsive: true,
    maintainAspectRatio: false,
    plugins: {
      legend: { display: false },
      tooltip: {
        callbacks: {
          label: ctx => {
            if (ctx.dataIndex === 0) return '300 miljoner';
            if (ctx.dataIndex === 1) return '4 000 européer';
            return '500 000 indiska tjänstemän';
          }
        }
      }
    },
    scales: {
      y: {
        type: 'logarithmic',
        grid: { color: 'rgba(200,149,42,0.1)' },
        ticks: {
          color: 'rgba(245,238,216,0.6)',
          callback: v => v >= 1 ? v + 'M' : v < 0.01 ? '4 000' : v + 'M'
        },
        title: { display: true, text: 'Logaritmisk skala (miljoner)', color: 'rgba(200,149,42,0.7)' }
      },
      x: { grid: { display: false }, ticks: { color: 'rgba(245,238,216,0.6)' } }
    }
  }
});

// ════ SLAVE TRADE CHART ════
new Chart(document.getElementById('slave-chart'), {
  type: 'bar',
  data: {
    labels: ['1500-tal', '1600-tal', '1700-tal', '1800-tal'],
    datasets: [{
      label: 'Deporterade (miljoner)',
      data: [0.4, 1.9, 6.1, 3.2],
      backgroundColor: [
        'rgba(139,26,26,0.5)',
        'rgba(139,26,26,0.65)',
        'rgba(139,26,26,0.9)',
        'rgba(139,26,26,0.7)',
      ],
      borderWidth: 0,
      borderRadius: 2,
    }]
  },
  options: {
    responsive: true,
    maintainAspectRatio: false,
    plugins: {
      legend: { display: false },
      tooltip: { callbacks: { label: ctx => ctx.raw + ' miljoner deporterade' } }
    },
    scales: {
      y: {
        grid: { color: 'rgba(139,105,20,0.12)' },
        ticks: { color: SEPIA, callback: v => v + 'M' },
        title: { display: true, text: 'Miljoner personer', color: SEPIA }
      },
      x: { grid: { display: false }, ticks: { color: SEPIA } }
    }
  }
});

// ════ DECOLONIZATION CHART ════
new Chart(document.getElementById('decolonize-chart'), {
  type: 'bar',
  data: {
    labels: ['1940-tal', '1950-tal', '1960-tal', '1970-tal', '1980-tal'],
    datasets: [{
      label: 'Nya självständiga stater',
      data: [2, 5, 32, 9, 3],
      backgroundColor: 'rgba(200,149,42,0.7)',
      borderWidth: 0,
      borderRadius: 3,
    }]
  },
  options: {
    responsive: true,
    maintainAspectRatio: false,
    plugins: {
      legend: { display: false },
      tooltip: { callbacks: { label: ctx => ctx.raw + ' nya självständiga stater' } }
    },
    scales: {
      y: {
        grid: { color: 'rgba(200,149,42,0.08)' },
        ticks: { color: 'rgba(245,238,216,0.6)' },
        title: { display: true, text: 'Antal stater', color: 'rgba(200,149,42,0.7)' }
      },
      x: { grid: { display: false }, ticks: { color: 'rgba(245,238,216,0.6)' } }
    }
  }
});

// ════ ACTIVE NAV ════
const sections = document.querySelectorAll('section[id]');
const navItems = document.querySelectorAll('.nav-item');

window.addEventListener('scroll', () => {
  let current = '';
  sections.forEach(sec => {
    if (window.scrollY >= sec.offsetTop - 150) current = sec.id;
  });
  navItems.forEach(item => {
    item.classList.toggle('active', item.getAttribute('href') === '#' + current);
  });
}, { passive: true });
</script>
</body>
</html>
